# Smart HX Render

*Render format for Smart HX*

This just a breadcrumb for now based on some proof-of-concept work in Nifty Zebra.

## Background

I’ve done a few experiments with the render data format that would, in theory, be generated by integrating perspective and schema specifications, allowing us to fully specify basic components from data. The render format currently looks like this:

```yaml
element: form
groups:
  - fields:
      - label:
          text: URL Name
        element: text input
        disabled: true
        value: nickname
        hint: >-
          A short name that may include letters, numbers, and hyphens. 
          Used in URLs, so it can't easily be changed later.
      - label:
          text: Display Name
        element: text input
        value: name
        hint: >-
          A longer name that may include spaces and punctuation. Used for display purposes.
actions:
  - label: Cancel
    name: cancel  
  - label: Save
    name: save
    default: true
```

There are a bunch of problems with this, but it provides some idea of how to approach this problem.

Before we dive in, it’s worth reviewing why we need this. Arguably, it would be easier, and certainly more flexible, to just write the corresponding Pug code. After all, the Pug would look something like this:

```pug
form
  section
    label
      div.label URL Name
      input( type = "text" value = data.nickname )
      div.hint.
      	A short name ...
  section
    label
      div.label Display Name
      input( type = "text" value = data.name )
      div.hint.
      	A long name ...
  footer
    nav
      button( name = "cancel" ) Cancel
      button.default( name = "save" ) Save
```

which is maybe a little less clear, but still pretty expressive. So perhaps the render format should just be Pug?

Which, sure, but we might still want an intermediate format, like the one above. Why? To understand this, recall that we’re starting with a resource schema. We’re going to iterate through each of the fields of that schema and produce the render specification. For each field, we’ll look at the perspective for guidance.

Now, could the perspective itself simply be a template? No, because we want it to be easy for non-programmers to work with. So it’s going to be data. And the easiest thing for us to produce, in terms of decorating one data format with another, is a third data format. We can then turn that format into HTML. We could produce Pug, but it’s not worth it, because, in many cases (most?) the tag names themselves are part of what we’re specifying.
